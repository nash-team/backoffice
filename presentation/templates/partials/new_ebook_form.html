<!-- Titre de la modal -->
<script>
    document.getElementById('modalTitle').textContent = 'Création d\'un nouvel ebook';
</script>

<!-- Formulaire -->
<form hx-post="/api/dashboard/ebooks"
      hx-target="#ebooksTable"
      hx-swap="innerHTML"
      hx-on::after-request="if(event.detail.successful) { 
          bootstrap.Modal.getInstance(document.getElementById('previewModal')).hide();
      }">
    <div class="mb-3">
        <label for="prompt" class="form-label">Prompt pour la génération de l'ebook</label>
        <textarea class="form-control" id="prompt" name="prompt" rows="10" required
                  placeholder="Ex: Génère un ebook de type 'recueil d'exercices' sur le sujet 'JavaScript pour débutant', structuré en 10 sections. Chaque section doit contenir un exercice, une consigne claire, une solution détaillée, et une explication pédagogique. L'ensemble doit être adapté à un public novice, avec un ton accessible. Le document doit commencer par une brève introduction et finir par une conclusion motivante."></textarea>
    </div>
    <div class="d-flex justify-content-end">
        <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Annuler</button>
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-plus me-2"></i>Créer l'ebook
        </button>
    </div>
</form> 